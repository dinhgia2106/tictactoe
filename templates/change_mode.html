<!doctype html>
<html lang="en">
<head>
    <title>Thay đổi chế độ chơi</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Bootstrap CSS -->
    <!-- Sử dụng Bootstrap CSS mới nhất -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>
<body>
    <div class="container">
        <h1 class="text-center mt-4">Thay đổi chế độ chơi</h1>
        <form method="post" class="mt-4">
            <div class="mb-3">
                <label class="form-label">Chọn chế độ chơi:</label>
                <select name="mode" id="mode" class="form-select" required onchange="toggleDifficulty()">
                    <option value="ai" {% if session['mode'] == 'ai' %}selected{% endif %}>Chơi với máy</option>
                    <option value="player" {% if session['mode'] == 'player' %}selected{% endif %}>Chơi với người</option>
                </select>
            </div>
            <div class="mb-3" id="difficultyDiv">
                <label for="difficulty" class="form-label">Chọn độ khó:</label>
                <select name="difficulty" id="difficulty" class="form-select" required>
                    <option value="super_hard" {% if session.get('difficulty') == 'super_hard' %}selected{% endif %}>Siêu khó</option>
                    <option value="hard" {% if session.get('difficulty') == 'hard' %}selected{% endif %}>Khó</option>
                    <option value="normal" {% if session.get('difficulty') == 'normal' %}selected{% endif %}>Bình thường</option>
                    <option value="easy" {% if session.get('difficulty') == 'easy' %}selected{% endif %}>Hồ Viết Bảo</option>
                </select>
            </div>
            <button type="submit" class="btn btn-primary">Cập nhật</button>
            <a href="/" class="btn btn-secondary">Hủy</a>
        </form>
    </div>
    <!-- Bootstrap JS Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        function toggleDifficulty() {
            var mode = document.getElementById('mode').value;
            var difficultyDiv = document.getElementById('difficultyDiv');
            if (mode == 'player') {
                difficultyDiv.style.display = 'none';
            } else {
                difficultyDiv.style.display = 'block';
            }
        }
        // Gọi hàm để thiết lập ban đầu
        toggleDifficulty();
    </script>
</body>
</html>
